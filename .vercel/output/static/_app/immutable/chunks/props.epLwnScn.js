import{B as Y,C as g,D as N,E as y,h as T,i as x,F as H,H as M,G as U,I as G,J as D,K as V,n as Z,L as $,M as z,P as J,N as K,v as h,m as Q,u as F,O as W,R as X,Q as L,T as j,V as k,W as ee,X as C,Y as ae,w as q,Z as re,_ as te}from"./index-client.COie2tS9.js";import{p as ne}from"./proxy.CH_KK1PD.js";import{c as se}from"./disclose-version.CaJuVmJL.js";function le(t,a,n,_=null,m=!1){T&&x();var r=t,s=null,i=null,v=null,u=m?H:0;Y(()=>{if(v===(v=!!a()))return;let l=!1;if(T){const f=r.data===M;v===f&&(r=U(),G(r),D(!1),l=!0)}v?(s?g(s):s=N(()=>n(r)),i&&y(i,()=>{i=null})):(i?g(i):_&&(i=N(()=>_(r))),s&&y(s,()=>{s=null})),l&&D(!0)},u),T&&(r=V)}function w(t){for(var a=q,n=q;a!==null&&!(a.f&(W|X));)a=a.parent;try{return L(a),t()}finally{L(n)}}function _e(t,a,n,_){var O;var m=(n&j)!==0,r=(n&k)!==0,s=(n&ee)!==0,i=(n&re)!==0,v=!1,u;s?[u,v]=se(()=>t[a]):u=t[a];var l=(O=Z(t,a))==null?void 0:O.set,f=_,E=!0,P=!1,b=()=>(P=!0,E&&(E=!1,i?f=F(_):f=_),f);u===void 0&&_!==void 0&&(l&&r&&$(),u=b(),l&&l(u));var c;if(r)c=()=>{var e=t[a];return e===void 0?b():(E=!0,P=!1,e)};else{var A=w(()=>(m?C:ae)(()=>t[a]));A.f|=z,c=()=>{var e=h(A);return e!==void 0&&(f=void 0),e===void 0?f:e}}if(!(n&J))return c;if(l){var B=t.$$legacy;return function(e,d){return arguments.length>0?((!r||!d||B||v)&&l(d?c():e),e):c()}}var R=!1,p=!1,S=te(u),o=w(()=>C(()=>{var e=c(),d=h(S);return R?(R=!1,p=!0,d):(p=!1,S.v=e)}));return m||(o.equals=K),function(e,d){if(arguments.length>0){const I=d?h(o):r&&s?ne(e):e;return o.equals(I)||(R=!0,Q(S,I),P&&f!==void 0&&(f=I),F(()=>h(o))),e}return h(o)}}export{le as i,_e as p};
